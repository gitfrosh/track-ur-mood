{"version":3,"file":"static/webpack/static/development/pages/start.js.44c146ff0d4cb7f15048.hot-update.js","sources":["webpack:///./components/star-rating.js"],"sourcesContent":["import React, { Component } from \"react\";\n\nimport StarRatings from \"react-star-ratings\";\n\nimport { Fieldset, Button } from \"react95\";\n\nimport { fetchData, postMood } from \"../api\";\n\nexport default class StarRating extends Component {\n  static async getInitialProps() {\n    // const res = await fetch('http://localhost:4000/photos')\n    // const images = await res.json()\n    // return { images }\n  }\n\n  state = {\n    //images: this.props.images\n    rating: 0,\n    mood: this.props.mood\n  };\n\n  changeRating = (newRating, name) => {\n    this.setState({\n      rating: newRating\n    });\n  };\n \n  componentWillMount() {\n    console.log(this.props)\n  }\n\n  saveRating = async () => {\n    // POST\n    try {\n      const mood = await postMood({\n        mood: this.state.rating,\n        date: this.props.today\n      });\n      console.log(mood);\n    } catch (e) {\n      console.log(e);\n    }\n    // REFETCH\n    try {\n      const mood = await fetchData();\n      console.log(mood);\n      this.setState({\n        mood: mood\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    const { mood } = this.state;\n    const isDisabled = mood === 0 ? false : true;\n    return (\n      <>\n        <StarRatings\n          rating={this.state.rating}\n          starRatedColor=\"red\"\n          starEmptyColor=\"white\"\n          starDimension=\"40px\"\n          starSpacing=\"15px\"\n          changeRating={this.changeRating}\n          numberOfStars={6}\n          name=\"rating\"\n          isSelectable={isDisabled}\n        />\n        <Button\n          style={{ width: \"100px\", marginTop: \"20px\" }}\n          disabled={isDisabled}\n          onClick={this.saveRating}\n          size={\"lg\"}\n          square\n        >\n          Save\n        </Button>\n\n        {isDisabled && (\n          <Fieldset style={{ marginTop: \"20px\" }}>\n            <p>You rated your day with {mood} stars.</p>\n          </Fieldset>\n        )}\n      </>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAOA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AADA;AAGA;AACA;;;;;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAFA;AACA;AAJA;AAGA;AAIA;AAPA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AAAA;AACA;AADA;AAaA;AACA;AACA;AAAA;AACA;AADA;AACA;AAhBA;AAAA;AACA;AADA;AAAA;AAAA;AAmBA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AALA;AACA;AACA;;;AAyBA;AAAA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AALA;AAWA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA/EA;AACA;;;;;A","sourceRoot":""}